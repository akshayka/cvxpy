
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Features &#8212; CVXPY 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/cvxpy_alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Examples" href="../../examples/index.html" />
    <link rel="prev" title="Atomic Functions" href="../functions/index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="advanced-features">
<span id="advanced"></span><h1>Advanced Features<a class="headerlink" href="#advanced-features" title="Permalink to this headline">¶</a></h1>
<p>This section of the tutorial covers features of CVXPY intended for users with advanced knowledge of convex optimization. We recommend <a class="reference external" href="http://www.stanford.edu/~boyd/cvxbook/">Convex Optimization</a> by Boyd and Vandenberghe as a reference for any terms you are unfamiliar with.</p>
<div class="section" id="dual-variables">
<h2>Dual variables<a class="headerlink" href="#dual-variables" title="Permalink to this headline">¶</a></h2>
<p>You can use CVXPY to find the optimal dual variables for a problem. When you call <code class="docutils literal"><span class="pre">prob.solve()</span></code> each dual variable in the solution is stored in the <code class="docutils literal"><span class="pre">dual_value</span></code> field of the constraint it corresponds to.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cvxpy</span> <span class="k">as</span> <span class="nn">cvx</span>

<span class="c1"># Create two scalar optimization variables.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">()</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">()</span>

<span class="c1"># Create two constraints.</span>
<span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
               <span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># Form objective.</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Minimize</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Form and solve problem.</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">constraints</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>

<span class="c1"># The optimal dual variable (Lagrange multiplier) for</span>
<span class="c1"># a constraint is stored in constraint.dual_value.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal (x + y == 1) dual variable&quot;</span><span class="p">,</span> <span class="n">constraints</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dual_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal (x - y &gt;= 1) dual variable&quot;</span><span class="p">,</span> <span class="n">constraints</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">dual_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x - y value:&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">optimal</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="n">dual</span> <span class="n">variable</span> <span class="mf">6.47610300459e-18</span>
<span class="n">optimal</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="n">dual</span> <span class="n">variable</span> <span class="mf">2.00025244976</span>
<span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="n">value</span><span class="p">:</span> <span class="mf">0.999999986374</span>
</pre></div>
</div>
<p>The dual variable for <code class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span> <span class="pre">&gt;=</span> <span class="pre">1</span></code> is 2. By complementarity this implies that <code class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code> is 1, which we can see is true. The fact that the dual variable is non-zero also tells us that if we tighten <code class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span> <span class="pre">&gt;=</span> <span class="pre">1</span></code>, (i.e., increase the right-hand side), the optimal value of the problem will increase.</p>
</div>
<div class="section" id="attributes">
<span id="id1"></span><h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<p>Variables and parameters can be created with attributes specifying additional properties.
For example, <code class="docutils literal"><span class="pre">Variable(nonneg=True)</span></code> is a scalar variable constrained to be nonnegative.
Similarly, <code class="docutils literal"><span class="pre">Parameter(nonpos=True)</span></code> is a scalar parameter constrained to be nonpositive.
The full constructor for Leaf (the parent class of Variable and Parameter) is given below.</p>
<dl class="function">
<dt id="Leaf">
<code class="descname">Leaf</code><span class="sig-paren">(</span><em>shape=None</em>, <em>name=None</em>, <em>value=None</em>, <em>nonneg=False</em>, <em>nonpos=False</em>, <em>symmetric=False</em>, <em>diag=False</em>, <em>PSD=False</em>, <em>NSD=False</em>, <em>boolean=False</em>, <em>integer=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Leaf object (e.g., Variable or Parameter).
Only one attribute can be active (set to True).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shape</strong> (<em>tuple</em><em> or </em><em>int</em>) – The variable dimensions (0D by default). Cannot be more than 2D.</li>
<li><strong>name</strong> (<em>str</em>) – The variable name.</li>
<li><strong>value</strong> (<em>numeric type</em>) – A value to assign to the variable.</li>
<li><strong>nonneg</strong> (<em>bool</em>) – Is the variable constrained to be nonnegative?</li>
<li><strong>nonpos</strong> (<em>bool</em>) – Is the variable constrained to be nonpositive?</li>
<li><strong>symmetric</strong> (<em>bool</em>) – Is the variable constrained to be symmetric?</li>
<li><strong>hermitian</strong> (<em>bool</em>) – Is the variable constrained to be Hermitian?</li>
<li><strong>diag</strong> (<em>bool</em>) – Is the variable constrained to be diagonal?</li>
<li><strong>complex</strong> (<em>bool</em>) – Is the variable complex valued?</li>
<li><strong>imag</strong> (<em>bool</em>) – Is the variable purely imaginary?</li>
<li><strong>PSD</strong> (<em>bool</em>) – Is the variable constrained to be symmetric positive semidefinite?</li>
<li><strong>NSD</strong> (<em>bool</em>) – Is the variable constrained to be symmetric negative semidefinite?</li>
<li><strong>boolean</strong> (<em>bool</em><em> or </em><em>list of tuple</em>) – Is the variable boolean (i.e., 0 or 1)? True, which constrains
the entire variable to be boolean, False, or a list of
indices which should be constrained as boolean, where each
index is a tuple of length exactly equal to the
length of shape.</li>
<li><strong>integer</strong> (<em>bool</em><em> or </em><em>list of tuple</em>) – Is the variable integer? The semantics are the same as the boolean argument.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The <code class="docutils literal"><span class="pre">value</span></code> field of Variables and Parameters can be assigned a value after construction,
but the assigned value must satisfy the object attributes.
A Euclidean projection onto the set defined by the attributes is given by the <code class="docutils literal"><span class="pre">project</span></code> method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">nonneg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">p</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Projection:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Parameter</span> <span class="n">value</span> <span class="n">must</span> <span class="n">be</span> <span class="n">nonnegative</span><span class="o">.</span>
<span class="n">Projection</span><span class="p">:</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>A sensible idiom for assigning values to leaves is <code class="docutils literal"><span class="pre">leaf.value</span> <span class="pre">=</span> <span class="pre">leaf.project(val)</span></code>,
ensuring that the assigned value satisfies the leaf’s properties.
A slightly more efficient variant is <code class="docutils literal"><span class="pre">leaf.project_and_assign(val)</span></code>,
which projects and assigns the value directly, without additionally checking that the value satisfies the leaf’s properties.
In most cases <code class="docutils literal"><span class="pre">project</span></code> and checking that a value satisfies a leaf’s properties are cheap operations (i.e., <span class="math">\(O(n)\)</span>),
but for symmetric positive semidefinite or negative semidefinite leaves,
the operations compute an eigenvalue decomposition.</p>
<p>Many attributes, such as nonnegativity and symmetry, can be easily specified with constraints.
What is the advantage then of specifying attributes in a variable?
The main benefit is that specifying attributes enables more fine-grained DCP analysis.
For example, creating a variable <code class="docutils literal"><span class="pre">x</span></code> via <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">Variable(nonpos=True)</span></code> informs the DCP analyzer that <code class="docutils literal"><span class="pre">x</span></code> is nonpositive.
Creating the variable <code class="docutils literal"><span class="pre">x</span></code> via <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">Variable()</span></code> and adding the constraint <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">0</span></code> separately does not provide any information
about the sign of <code class="docutils literal"><span class="pre">x</span></code> to the DCP analyzer.</p>
</div>
<div class="section" id="semidefinite-matrices">
<span id="semidefinite"></span><h2>Semidefinite matrices<a class="headerlink" href="#semidefinite-matrices" title="Permalink to this headline">¶</a></h2>
<p>Many convex optimization problems involve constraining matrices to be positive or negative semidefinite (e.g., SDPs).
You can do this in CVXPY in two ways.
The first way is to use
<code class="docutils literal"><span class="pre">Variable((n,</span> <span class="pre">n),</span> <span class="pre">PSD=True)</span></code> to create an <code class="docutils literal"><span class="pre">n</span></code> by <code class="docutils literal"><span class="pre">n</span></code> variable constrained to be symmetric and positive semidefinite. For example,</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Creates a 100 by 100 positive semidefinite variable.</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">PSD</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># You can use X anywhere you would use</span>
<span class="c1"># a normal CVXPY variable.</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Minimize</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">+</span> <span class="n">cvx</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>
</pre></div>
</div>
<p>The second way is to create a positive semidefinite cone constraint using the <code class="docutils literal"><span class="pre">&gt;&gt;</span></code> or <code class="docutils literal"><span class="pre">&lt;&lt;</span></code> operator.
If <code class="docutils literal"><span class="pre">X</span></code> and <code class="docutils literal"><span class="pre">Y</span></code> are <code class="docutils literal"><span class="pre">n</span></code> by <code class="docutils literal"><span class="pre">n</span></code> variables,
the constraint <code class="docutils literal"><span class="pre">X</span> <span class="pre">&gt;&gt;</span> <span class="pre">Y</span></code> means that <span class="math">\(z^T(X - Y)z \geq 0\)</span>, for all <span class="math">\(z \in \mathcal{R}^n\)</span>.
In other words, <span class="math">\(X + X^T\)</span> is positive semidefinite.
The constraint does not require that <code class="docutils literal"><span class="pre">X</span></code> and <code class="docutils literal"><span class="pre">Y</span></code> be symmetric.
Both sides of a postive semidefinite cone constraint must be square matrices and affine.</p>
<p>The following code shows how to constrain matrix expressions to be positive or negative
semidefinite (but not necessarily symmetric).</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># expr1 must be positive semidefinite.</span>
<span class="n">constr1</span> <span class="o">=</span> <span class="p">(</span><span class="n">expr1</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># expr2 must be negative semidefinite.</span>
<span class="n">constr2</span> <span class="o">=</span> <span class="p">(</span><span class="n">expr2</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>To constrain a matrix expression to be symmetric, simply write</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># expr must be symmetric.</span>
<span class="n">constr</span> <span class="o">=</span> <span class="p">(</span><span class="n">expr</span> <span class="o">==</span> <span class="n">expr</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use <code class="docutils literal"><span class="pre">Variable((n,</span> <span class="pre">n),</span> <span class="pre">symmetric=True)</span></code> to create an <code class="docutils literal"><span class="pre">n</span></code> by <code class="docutils literal"><span class="pre">n</span></code> variable constrained to be symmetric.
The difference between specifying that a variable is symmetric via attributes and adding the constraint <code class="docutils literal"><span class="pre">X</span> <span class="pre">==</span> <span class="pre">X.T</span></code> is that
attributes are parsed for DCP information and a symmetric variable is defined over the (lower dimensional) vector space of symmetric matrices.</p>
</div>
<div class="section" id="mixed-integer-programs">
<span id="mip"></span><h2>Mixed-integer programs<a class="headerlink" href="#mixed-integer-programs" title="Permalink to this headline">¶</a></h2>
<p>In mixed-integer programs, certain variables are constrained to be boolean (i.e., 0 or 1) or integer valued.
You can construct mixed-integer programs by creating variables with the attribute that they have only boolean or integer valued entries:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Creates a 10-vector constrained to have boolean valued entries.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># expr1 must be boolean valued.</span>
<span class="n">constr1</span> <span class="o">=</span> <span class="p">(</span><span class="n">expr1</span> <span class="o">==</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># Creates a 5 by 7 matrix constrained to have integer valued entries.</span>
<span class="n">Z</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># expr2 must be integer valued.</span>
<span class="n">constr2</span> <span class="o">=</span> <span class="p">(</span><span class="n">expr2</span> <span class="o">==</span> <span class="n">Z</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="complex-valued-expressions">
<h2>Complex valued expressions<a class="headerlink" href="#complex-valued-expressions" title="Permalink to this headline">¶</a></h2>
<p>By default variables and parameters are real valued.
Complex valued variables and parameters can be created by setting the attribute <code class="docutils literal"><span class="pre">complex=True</span></code>.
Similarly, purely imaginary variables and parameters can be created by setting the attributes <code class="docutils literal"><span class="pre">imag=True</span></code>.
Expressions containing complex variables, parameters, or constants may be complex valued.
The functions <code class="docutils literal"><span class="pre">is_real</span></code>, <code class="docutils literal"><span class="pre">is_complex</span></code>, and <code class="docutils literal"><span class="pre">is_imag</span></code> return whether an expression is purely real, complex, or purely imaginary, respectively.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A complex valued variable.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="nb">complex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># A purely imaginary parameter.</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">imag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;p.is_imag() = &quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">is_imag</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;(x + 2).is_real() = &quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">is_imag</span><span class="p">()</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_real</span><span class="p">()</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The top-level expressions in the problem objective and inequality constraints must be real valued,
but subexpressions may be complex.
Arithmetic and all linear atoms are defined for complex expressions.
The nonlinear atoms <code class="docutils literal"><span class="pre">abs</span></code> and all norms except <code class="docutils literal"><span class="pre">norm(X,</span> <span class="pre">p)</span></code> for <code class="docutils literal"><span class="pre">p</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> are also defined for complex expressions.
All atoms whose domain is symmetric matrices are defined for Hermitian matrices.
Similarly, the atoms <code class="docutils literal"><span class="pre">quad_form(x,</span> <span class="pre">P)</span></code> and <code class="docutils literal"><span class="pre">matrix_frac(x,</span> <span class="pre">P)</span></code> are defined for complex <code class="docutils literal"><span class="pre">x</span></code> and Hermitian <code class="docutils literal"><span class="pre">P</span></code>.
Lastly, equality and postive semidefinite constraints are defined for complex expressions.</p>
<p>The following additional atoms are provided for working with complex expressions:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">real(expr)</span></code> gives the real part of <code class="docutils literal"><span class="pre">expr</span></code>.</li>
<li><code class="docutils literal"><span class="pre">imag(expr)</span></code> gives the imaginary part of <code class="docutils literal"><span class="pre">expr</span></code> (i.e., <code class="docutils literal"><span class="pre">expr</span> <span class="pre">=</span> <span class="pre">real(expr)</span> <span class="pre">+</span> <span class="pre">1j*imag(expr)</span></code>).</li>
<li><code class="docutils literal"><span class="pre">conj(expr)</span></code> gives the complex conjugate of <code class="docutils literal"><span class="pre">expr</span></code>.</li>
<li><code class="docutils literal"><span class="pre">expr.H</span></code> gives the Hermitian (conjugate) transpose of <code class="docutils literal"><span class="pre">expr</span></code>.</li>
</ul>
</div>
<div class="section" id="transforms">
<h2>Transforms<a class="headerlink" href="#transforms" title="Permalink to this headline">¶</a></h2>
<p>Transforms provide additional ways of manipulating CVXPY objects
beyond the atomic functions.
For example, the <code class="docutils literal"><span class="pre">indicator</span></code> transform converts a list of constraints
into an expression representing the convex function that takes value 0 when
the constraints hold and <span class="math">\(\infty\)</span> when they are violated.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">()</span>
<span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">expr</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">indicator</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;expr.value = &quot;</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;expr.value = &quot;</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">expr</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">expr</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">inf</span>
</pre></div>
</div>
<p>The full set of transforms available is discussed in <a class="reference internal" href="../../api_reference/cvxpy.transforms.html#transforms-api"><span class="std std-ref">Transforms</span></a>.</p>
</div>
<div class="section" id="problem-arithmetic">
<h2>Problem arithmetic<a class="headerlink" href="#problem-arithmetic" title="Permalink to this headline">¶</a></h2>
<p>For convenience, arithmetic operations have been overloaded for
problems and objectives.
Problem arithmetic is useful because it allows you to write a problem as a
sum of smaller problems.
The rules for adding, subtracting, and multiplying objectives are given below.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Addition and subtraction.</span>

<span class="n">Minimize</span><span class="p">(</span><span class="n">expr1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Minimize</span><span class="p">(</span><span class="n">expr2</span><span class="p">)</span> <span class="o">==</span> <span class="n">Minimize</span><span class="p">(</span><span class="n">expr1</span> <span class="o">+</span> <span class="n">expr2</span><span class="p">)</span>

<span class="n">Maximize</span><span class="p">(</span><span class="n">expr1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Maximize</span><span class="p">(</span><span class="n">expr2</span><span class="p">)</span> <span class="o">==</span> <span class="n">Maximize</span><span class="p">(</span><span class="n">expr1</span> <span class="o">+</span> <span class="n">expr2</span><span class="p">)</span>

<span class="n">Minimize</span><span class="p">(</span><span class="n">expr1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Maximize</span><span class="p">(</span><span class="n">expr2</span><span class="p">)</span> <span class="c1"># Not allowed.</span>

<span class="n">Minimize</span><span class="p">(</span><span class="n">expr1</span><span class="p">)</span> <span class="o">-</span> <span class="n">Maximize</span><span class="p">(</span><span class="n">expr2</span><span class="p">)</span> <span class="o">==</span> <span class="n">Minimize</span><span class="p">(</span><span class="n">expr1</span> <span class="o">-</span> <span class="n">expr2</span><span class="p">)</span>

<span class="c1"># Multiplication (alpha is a positive scalar).</span>

<span class="n">alpha</span><span class="o">*</span><span class="n">Minimize</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="n">Minimize</span><span class="p">(</span><span class="n">alpha</span><span class="o">*</span><span class="n">expr</span><span class="p">)</span>

<span class="n">alpha</span><span class="o">*</span><span class="n">Maximize</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="n">Maximize</span><span class="p">(</span><span class="n">alpha</span><span class="o">*</span><span class="n">expr</span><span class="p">)</span>

<span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">Minimize</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="n">Maximize</span><span class="p">(</span><span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">expr</span><span class="p">)</span>

<span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">Maximize</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="n">Minimize</span><span class="p">(</span><span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">expr</span><span class="p">)</span>
</pre></div>
</div>
<p>The rules for adding and multiplying problems are equally straightforward:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Addition and subtraction.</span>

<span class="n">prob1</span> <span class="o">+</span> <span class="n">prob2</span> <span class="o">==</span> <span class="n">Problem</span><span class="p">(</span><span class="n">prob1</span><span class="o">.</span><span class="n">objective</span> <span class="o">+</span> <span class="n">prob2</span><span class="o">.</span><span class="n">objective</span><span class="p">,</span>
                         <span class="n">prob1</span><span class="o">.</span><span class="n">constraints</span> <span class="o">+</span> <span class="n">prob2</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span>

<span class="n">prob1</span> <span class="o">-</span> <span class="n">prob2</span> <span class="o">==</span> <span class="n">Problem</span><span class="p">(</span><span class="n">prob1</span><span class="o">.</span><span class="n">objective</span> <span class="o">-</span> <span class="n">prob2</span><span class="o">.</span><span class="n">objective</span><span class="p">,</span>
                         <span class="n">prob1</span><span class="o">.</span><span class="n">constraints</span> <span class="o">+</span> <span class="n">prob2</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span>

<span class="c1"># Multiplication (alpha is any scalar).</span>

<span class="n">alpha</span><span class="o">*</span><span class="n">prob</span> <span class="o">==</span> <span class="n">Problem</span><span class="p">(</span><span class="n">alpha</span><span class="o">*</span><span class="n">prob</span><span class="o">.</span><span class="n">objective</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal"><span class="pre">+</span></code> operator concatenates lists of constraints,
since this is the default behavior for Python lists.
The in-place operators <code class="docutils literal"><span class="pre">+=</span></code>, <code class="docutils literal"><span class="pre">-=</span></code>, and <code class="docutils literal"><span class="pre">*=</span></code> are also supported for
objectives and problems and follow the same rules as above.</p>
</div>
<div class="section" id="solve-method-options">
<h2>Solve method options<a class="headerlink" href="#solve-method-options" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">solve</span></code> method takes optional arguments that let you change how CVXPY solves the problem. Here is the signature for the <code class="docutils literal"><span class="pre">solve</span></code> method:</p>
<dl class="function">
<dt id="solve">
<code class="descname">solve</code><span class="sig-paren">(</span><em>solver=None</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves a DCP compliant optimization problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>solver</strong> (<em>str</em><em>, </em><em>optional</em>) – The solver to use.</li>
<li><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – Overrides the default of hiding solver output.</li>
<li><strong>kwargs</strong> – Additional keyword arguments specifying solver specific options.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The optimal value for the problem, or a string indicating why the problem could not be solved.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>We will discuss the optional arguments in detail below.</p>
<div class="section" id="choosing-a-solver">
<span id="solvers"></span><h3>Choosing a solver<a class="headerlink" href="#choosing-a-solver" title="Permalink to this headline">¶</a></h3>
<p>CVXPY is distributed with the open source solvers <a class="reference external" href="https://www.embotech.com/ECOS">ECOS</a>, <a class="reference external" href="https://github.com/embotech/ecos#mixed-integer-socps-ecos_bb">ECOS_BB</a>, <a class="reference external" href="http://osqp.readthedocs.io/">OSQP</a>, and <a class="reference external" href="http://github.com/cvxgrp/scs">SCS</a>.
Many other solvers can be called by CVXPY if installed separately.
The table below shows the types of problems the supported solvers can handle.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="9%" />
<col width="9%" />
<col width="14%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">LP</th>
<th class="head">QP</th>
<th class="head">SOCP</th>
<th class="head">SDP</th>
<th class="head">EXP</th>
<th class="head">MIP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="https://projects.coin-or.org/Cbc">CBC</a></td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="https://www.gnu.org/software/glpk/">GLPK</a></td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="https://www.gnu.org/software/glpk/">GLPK_MI</a></td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="http://osqp.readthedocs.io/">OSQP</a></td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="https://www-01.ibm.com/software/commerce/optimization/cplex-optimizer/">CPLEX</a></td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="http://libelemental.org/">Elemental</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="https://www.embotech.com/ECOS">ECOS</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>X</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="https://github.com/embotech/ecos#mixed-integer-socps-ecos_bb">ECOS_BB</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="http://www.gurobi.com/">GUROBI</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
<td>X</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="https://www.mosek.com/">MOSEK</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="http://cvxopt.org/">CVXOPT</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="http://github.com/cvxgrp/scs">SCS</a></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>Here EXP refers to problems with exponential cone constraints. The exponential cone is defined as</p>
<blockquote>
<div><span class="math">\(\{(x,y,z) \mid y &gt; 0, y\exp(x/y) \leq z \} \cup \{ (x,y,z) \mid x \leq 0, y = 0, z \geq 0\}\)</span>.</div></blockquote>
<p>You cannot specify cone constraints explicitly in CVXPY, but cone constraints are added when CVXPY converts the problem into standard form.</p>
<p>By default CVXPY calls the solver most specialized to the problem type. For example, <a class="reference external" href="https://www.embotech.com/ECOS">ECOS</a> is called for SOCPs. <a class="reference external" href="http://github.com/cvxgrp/scs">SCS</a> can both handle all problems (except mixed-integer programs). <a class="reference external" href="https://github.com/embotech/ecos#mixed-integer-socps-ecos_bb">ECOS_BB</a> is called for mixed-integer LPs and SOCPs. If the problem is a QP, CVXPY will use <a class="reference external" href="http://osqp.readthedocs.io/">OSQP</a>.</p>
<p>You can change the solver called by CVXPY using the <code class="docutils literal"><span class="pre">solver</span></code> keyword argument. If the solver you choose cannot solve the problem, CVXPY will raise an exception. Here’s example code solving the same problem with different solvers.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Solving a problem with different solvers.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Minimize</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">cvx</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">constraints</span><span class="p">)</span>

<span class="c1"># Solve with ECOS.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with ECOS:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with ECOS_BB.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS_BB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with ECOS_BB:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with CVXOPT.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">CVXOPT</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with CVXOPT:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with SCS.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">SCS</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with SCS:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with GLPK.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">GLPK</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with GLPK:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with GLPK_MI.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">GLPK_MI</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with GLPK_MI:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with GUROBI.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">GUROBI</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with GUROBI:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with MOSEK.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">MOSEK</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with MOSEK:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with Elemental.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">ELEMENTAL</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with Elemental:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Solve with CBC.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">CBC</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;optimal value with CBC:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">ECOS</span><span class="p">:</span> <span class="mf">5.99999999551</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">ECOS_BB</span><span class="p">:</span> <span class="mf">5.99999999551</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">CVXOPT</span><span class="p">:</span> <span class="mf">6.00000000512</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">SCS</span><span class="p">:</span> <span class="mf">6.00046055789</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">GLPK</span><span class="p">:</span> <span class="mf">6.0</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">GLPK_MI</span><span class="p">:</span> <span class="mf">6.0</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">GUROBI</span><span class="p">:</span> <span class="mf">6.0</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">MOSEK</span><span class="p">:</span> <span class="mf">6.0</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">Elemental</span><span class="p">:</span> <span class="mf">6.0000044085242727</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">CBC</span><span class="p">:</span> <span class="mf">6.0</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal"><span class="pre">installed_solvers</span></code> utility function to get a list of the solvers your installation of CVXPY supports.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="n">installed_solvers</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;CBC&#39;</span><span class="p">,</span> <span class="s1">&#39;CVXOPT&#39;</span><span class="p">,</span> <span class="s1">&#39;MOSEK&#39;</span><span class="p">,</span> <span class="s1">&#39;GLPK&#39;</span><span class="p">,</span> <span class="s1">&#39;GLPK_MI&#39;</span><span class="p">,</span> <span class="s1">&#39;ECOS_BB&#39;</span><span class="p">,</span> <span class="s1">&#39;ECOS&#39;</span><span class="p">,</span> <span class="s1">&#39;SCS&#39;</span><span class="p">,</span> <span class="s1">&#39;GUROBI&#39;</span><span class="p">,</span> <span class="s1">&#39;ELEMENTAL&#39;</span><span class="p">,</span> <span class="s1">&#39;OSQP&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-solver-output">
<h3>Viewing solver output<a class="headerlink" href="#viewing-solver-output" title="Permalink to this headline">¶</a></h3>
<p>All the solvers can print out information about their progress while solving the problem. This information can be useful in debugging a solver error. To see the output from the solvers, set <code class="docutils literal"><span class="pre">verbose=True</span></code> in the solve method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Solve with ECOS and display output.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;optimal value with ECOS:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ECOS</span> <span class="mf">1.0</span><span class="o">.</span><span class="mi">3</span> <span class="o">-</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="n">A</span><span class="o">.</span> <span class="n">Domahidi</span><span class="p">,</span> <span class="n">Automatic</span> <span class="n">Control</span> <span class="n">Laboratory</span><span class="p">,</span> <span class="n">ETH</span> <span class="n">Zurich</span><span class="p">,</span> <span class="mi">2012</span><span class="o">-</span><span class="mf">2014.</span>

<span class="n">It</span>     <span class="n">pcost</span>         <span class="n">dcost</span>      <span class="n">gap</span>     <span class="n">pres</span>    <span class="n">dres</span>     <span class="n">k</span><span class="o">/</span><span class="n">t</span>     <span class="n">mu</span>      <span class="n">step</span>     <span class="n">IR</span>
 <span class="mi">0</span>   <span class="o">+</span><span class="mf">0.000e+00</span>   <span class="o">+</span><span class="mf">4.000e+00</span>   <span class="o">+</span><span class="mi">2</span><span class="n">e</span><span class="o">+</span><span class="mi">01</span>   <span class="mi">2</span><span class="n">e</span><span class="o">+</span><span class="mi">00</span>   <span class="mi">1</span><span class="n">e</span><span class="o">+</span><span class="mi">00</span>   <span class="mi">1</span><span class="n">e</span><span class="o">+</span><span class="mi">00</span>   <span class="mi">3</span><span class="n">e</span><span class="o">+</span><span class="mi">00</span>    <span class="n">N</span><span class="o">/</span><span class="n">A</span>     <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span>
 <span class="mi">1</span>   <span class="o">+</span><span class="mf">6.451e+00</span>   <span class="o">+</span><span class="mf">8.125e+00</span>   <span class="o">+</span><span class="mi">5</span><span class="n">e</span><span class="o">+</span><span class="mi">00</span>   <span class="mi">7</span><span class="n">e</span><span class="o">-</span><span class="mi">01</span>   <span class="mi">5</span><span class="n">e</span><span class="o">-</span><span class="mi">01</span>   <span class="mi">7</span><span class="n">e</span><span class="o">-</span><span class="mi">01</span>   <span class="mi">7</span><span class="n">e</span><span class="o">-</span><span class="mi">01</span>   <span class="mf">0.7857</span>   <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
 <span class="mi">2</span>   <span class="o">+</span><span class="mf">6.788e+00</span>   <span class="o">+</span><span class="mf">6.839e+00</span>   <span class="o">+</span><span class="mi">9</span><span class="n">e</span><span class="o">-</span><span class="mi">02</span>   <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">02</span>   <span class="mi">8</span><span class="n">e</span><span class="o">-</span><span class="mi">03</span>   <span class="mi">3</span><span class="n">e</span><span class="o">-</span><span class="mi">02</span>   <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">02</span>   <span class="mf">0.9829</span>   <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
 <span class="mi">3</span>   <span class="o">+</span><span class="mf">6.828e+00</span>   <span class="o">+</span><span class="mf">6.829e+00</span>   <span class="o">+</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">03</span>   <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">04</span>   <span class="mi">8</span><span class="n">e</span><span class="o">-</span><span class="mi">05</span>   <span class="mi">3</span><span class="n">e</span><span class="o">-</span><span class="mi">04</span>   <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">04</span>   <span class="mf">0.9899</span>   <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
 <span class="mi">4</span>   <span class="o">+</span><span class="mf">6.828e+00</span>   <span class="o">+</span><span class="mf">6.828e+00</span>   <span class="o">+</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">05</span>   <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">06</span>   <span class="mi">8</span><span class="n">e</span><span class="o">-</span><span class="mi">07</span>   <span class="mi">3</span><span class="n">e</span><span class="o">-</span><span class="mi">06</span>   <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">06</span>   <span class="mf">0.9899</span>   <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span>
 <span class="mi">5</span>   <span class="o">+</span><span class="mf">6.828e+00</span>   <span class="o">+</span><span class="mf">6.828e+00</span>   <span class="o">+</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">07</span>   <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">08</span>   <span class="mi">8</span><span class="n">e</span><span class="o">-</span><span class="mi">09</span>   <span class="mi">4</span><span class="n">e</span><span class="o">-</span><span class="mi">08</span>   <span class="mi">2</span><span class="n">e</span><span class="o">-</span><span class="mi">08</span>   <span class="mf">0.9899</span>   <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span>

<span class="n">OPTIMAL</span> <span class="p">(</span><span class="n">within</span> <span class="n">feastol</span><span class="o">=</span><span class="mf">1.3e-08</span><span class="p">,</span> <span class="n">reltol</span><span class="o">=</span><span class="mf">1.5e-08</span><span class="p">,</span> <span class="n">abstol</span><span class="o">=</span><span class="mf">1.0e-07</span><span class="p">)</span><span class="o">.</span>
<span class="n">Runtime</span><span class="p">:</span> <span class="mf">0.000121</span> <span class="n">seconds</span><span class="o">.</span>

<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">ECOS</span><span class="p">:</span> <span class="mf">6.82842708233</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="solver-stats">
<h2>Solver stats<a class="headerlink" href="#solver-stats" title="Permalink to this headline">¶</a></h2>
<p>When the <code class="docutils literal"><span class="pre">solve</span></code> method is called on a problem object and a solver is invoked,
the problem object records the optimal value, the values of the primal and dual variables,
and several solver statistics.
We have already discussed how to view the optimal value and variable values.
The solver statistics are accessed via the <code class="docutils literal"><span class="pre">problem.solver_stats</span></code> attribute,
which returns a <a class="reference internal" href="../../api_reference/cvxpy.problems.html#cvxpy.problems.problem.SolverStats" title="cvxpy.problems.problem.SolverStats"><code class="xref py py-class docutils literal"><span class="pre">SolverStats</span></code></a> object.
For example, <code class="docutils literal"><span class="pre">problem.solver_stats.solve_time</span></code> gives the time it took the solver to solve the problem.</p>
</div>
<div class="section" id="warm-start">
<h2>Warm start<a class="headerlink" href="#warm-start" title="Permalink to this headline">¶</a></h2>
<p>When solving the same problem for multiple values of a parameter, many solvers can exploit work from previous solves (i.e., warm start).
For example, the solver might use the previous solution as an initial point or reuse cached matrix factorizations.
Warm start is enabled by default and controlled with the <code class="docutils literal"><span class="pre">warm_start</span></code> solver option.
The code below shows how warm start can accelerate solving a sequence of related least-squares problems.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cvxpy</span> <span class="k">as</span> <span class="nn">cvx</span>
<span class="kn">import</span> <span class="nn">numpy</span>

<span class="c1"># Problem data.</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="c1"># Construct the problem.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">cvx</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">Minimize</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">sum_squares</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">b</span><span class="p">)),</span>
                   <span class="p">[</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">])</span>

<span class="n">b</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First solve time:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">solve_time</span><span class="p">)</span>

<span class="n">b</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">warm_start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Second solve time:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">solve_time</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">First</span> <span class="n">solve</span> <span class="n">time</span><span class="p">:</span> <span class="mf">11.14</span>
<span class="n">Second</span> <span class="n">solve</span> <span class="n">time</span><span class="p">:</span> <span class="mf">2.95</span>
</pre></div>
</div>
<p>The speed up in this case comes from caching the KKT matrix factorization.
If <code class="docutils literal"><span class="pre">A</span></code> were a parameter, factorization caching would not be possible and the benefit of
warm start would only be a good initial point.</p>
<div class="section" id="setting-solver-options">
<h3>Setting solver options<a class="headerlink" href="#setting-solver-options" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://www.embotech.com/ECOS">ECOS</a>, <a class="reference external" href="https://github.com/embotech/ecos#mixed-integer-socps-ecos_bb">ECOS_BB</a>, <a class="reference external" href="https://www.mosek.com/">MOSEK</a>, <a class="reference external" href="https://projects.coin-or.org/Cbc">CBC</a>, <a class="reference external" href="http://cvxopt.org/">CVXOPT</a>, and <a class="reference external" href="http://github.com/cvxgrp/scs">SCS</a> Python interfaces allow you to set solver options such as the maximum number of iterations. You can pass these options along through CVXPY as keyword arguments.</p>
<p>For example, here we tell SCS to use an indirect method for solving linear equations rather than a direct method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Solve with SCS, use sparse-indirect method.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="n">cvx</span><span class="o">.</span><span class="n">SCS</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_indirect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;optimal value with SCS:&quot;</span><span class="p">,</span> <span class="n">prob</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">----------------------------------------------------------------------------</span>
    <span class="n">SCS</span> <span class="n">v1</span><span class="o">.</span><span class="mf">0.5</span> <span class="o">-</span> <span class="n">Splitting</span> <span class="n">Conic</span> <span class="n">Solver</span>
    <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="n">Brendan</span> <span class="n">O</span><span class="s1">&#39;Donoghue, Stanford University, 2012</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">Lin</span><span class="o">-</span><span class="n">sys</span><span class="p">:</span> <span class="n">sparse</span><span class="o">-</span><span class="n">indirect</span><span class="p">,</span> <span class="n">nnz</span> <span class="ow">in</span> <span class="n">A</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="n">CG</span> <span class="n">tol</span> <span class="o">~</span> <span class="mi">1</span><span class="o">/</span><span class="nb">iter</span><span class="o">^</span><span class="p">(</span><span class="mf">2.00</span><span class="p">)</span>
<span class="n">EPS</span> <span class="o">=</span> <span class="mf">1.00e-03</span><span class="p">,</span> <span class="n">ALPHA</span> <span class="o">=</span> <span class="mf">1.80</span><span class="p">,</span> <span class="n">MAX_ITERS</span> <span class="o">=</span> <span class="mi">2500</span><span class="p">,</span> <span class="n">NORMALIZE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">SCALE</span> <span class="o">=</span> <span class="mf">5.00</span>
<span class="n">Variables</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">constraints</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">Cones</span><span class="p">:</span>  <span class="n">linear</span> <span class="nb">vars</span><span class="p">:</span> <span class="mi">6</span>
    <span class="n">soc</span> <span class="nb">vars</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">soc</span> <span class="n">blks</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Setup</span> <span class="n">time</span><span class="p">:</span> <span class="mf">2.78e-04</span><span class="n">s</span>
<span class="o">----------------------------------------------------------------------------</span>
 <span class="n">Iter</span> <span class="o">|</span> <span class="n">pri</span> <span class="n">res</span> <span class="o">|</span> <span class="n">dua</span> <span class="n">res</span> <span class="o">|</span> <span class="n">rel</span> <span class="n">gap</span> <span class="o">|</span> <span class="n">pri</span> <span class="n">obj</span> <span class="o">|</span> <span class="n">dua</span> <span class="n">obj</span> <span class="o">|</span> <span class="n">kap</span><span class="o">/</span><span class="n">tau</span> <span class="o">|</span> <span class="n">time</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------------</span>
     <span class="mi">0</span><span class="o">|</span> <span class="mf">4.60e+00</span>  <span class="mf">5.78e-01</span>       <span class="n">nan</span>      <span class="o">-</span><span class="n">inf</span>       <span class="n">inf</span>       <span class="n">inf</span>  <span class="mf">3.86e-05</span>
    <span class="mi">60</span><span class="o">|</span> <span class="mf">3.92e-05</span>  <span class="mf">1.12e-04</span>  <span class="mf">6.64e-06</span>  <span class="mf">6.83e+00</span>  <span class="mf">6.83e+00</span>  <span class="mf">1.41e-17</span>  <span class="mf">9.51e-05</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">Status</span><span class="p">:</span> <span class="n">Solved</span>
<span class="n">Timing</span><span class="p">:</span> <span class="n">Total</span> <span class="n">solve</span> <span class="n">time</span><span class="p">:</span> <span class="mf">9.76e-05</span><span class="n">s</span>
    <span class="n">Lin</span><span class="o">-</span><span class="n">sys</span><span class="p">:</span> <span class="n">avg</span> <span class="c1"># CG iterations: 1.00, avg solve time: 2.24e-07s</span>
    <span class="n">Cones</span><span class="p">:</span> <span class="n">avg</span> <span class="n">projection</span> <span class="n">time</span><span class="p">:</span> <span class="mf">4.90e-08</span><span class="n">s</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">Error</span> <span class="n">metrics</span><span class="p">:</span>
<span class="o">|</span><span class="n">Ax</span> <span class="o">+</span> <span class="n">s</span> <span class="o">-</span> <span class="n">b</span><span class="o">|</span><span class="n">_2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span><span class="n">_2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">3.9223e-05</span>
<span class="o">|</span><span class="n">A</span><span class="s1">&#39;y + c|_2 / (1 + |c|_2) = 1.1168e-04</span>
<span class="o">|</span><span class="n">c</span><span class="s1">&#39;x + b&#39;</span><span class="n">y</span><span class="o">|</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="o">|</span><span class="n">c</span><span class="s1">&#39;x| + |b&#39;</span><span class="n">y</span><span class="o">|</span><span class="p">)</span> <span class="o">=</span> <span class="mf">6.6446e-06</span>
<span class="n">dist</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">K</span><span class="o">*</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="s1">&#39;y = 0</span>
<span class="o">----------------------------------------------------------------------------</span>
<span class="n">c</span><span class="s1">&#39;x = 6.8284, -b&#39;</span><span class="n">y</span> <span class="o">=</span> <span class="mf">6.8285</span>
<span class="o">============================================================================</span>
<span class="n">optimal</span> <span class="n">value</span> <span class="k">with</span> <span class="n">SCS</span><span class="p">:</span> <span class="mf">6.82837896975</span>
</pre></div>
</div>
<p>Here is the complete list of solver options.</p>
<p><a class="reference external" href="https://www.embotech.com/ECOS">ECOS</a> options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">'max_iters'</span></code></dt>
<dd>maximum number of iterations (default: 100).</dd>
<dt><code class="docutils literal"><span class="pre">'abstol'</span></code></dt>
<dd>absolute accuracy (default: 1e-7).</dd>
<dt><code class="docutils literal"><span class="pre">'reltol'</span></code></dt>
<dd>relative accuracy (default: 1e-6).</dd>
<dt><code class="docutils literal"><span class="pre">'feastol'</span></code></dt>
<dd>tolerance for feasibility conditions (default: 1e-7).</dd>
<dt><code class="docutils literal"><span class="pre">'abstol_inacc'</span></code></dt>
<dd>absolute accuracy for inaccurate solution (default: 5e-5).</dd>
<dt><code class="docutils literal"><span class="pre">'reltol_inacc'</span></code></dt>
<dd>relative accuracy for inaccurate solution (default: 5e-5).</dd>
<dt><code class="docutils literal"><span class="pre">'feastol_inacc'</span></code></dt>
<dd>tolerance for feasibility condition for inaccurate solution (default: 1e-4).</dd>
</dl>
<p><a class="reference external" href="https://github.com/embotech/ecos#mixed-integer-socps-ecos_bb">ECOS_BB</a> options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">'mi_max_iters'</span></code></dt>
<dd>maximum number of branch and bound iterations (default: 1000)</dd>
<dt><code class="docutils literal"><span class="pre">'mi_abs_eps'</span></code></dt>
<dd>absolute tolerance between upper and lower bounds (default: 1e-6)</dd>
<dt><code class="docutils literal"><span class="pre">'mi_rel_eps'</span></code></dt>
<dd>relative tolerance, (U-L)/L, between upper and lower bounds (default: 1e-3)</dd>
</dl>
<p><a class="reference external" href="https://www.mosek.com/">MOSEK</a> options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">'mosek_params'</span></code></dt>
<dd>A dictionary of MOSEK parameters. Refer to MOSEK’s Python or C API for
details. Note that if parameters are given as string-value pairs, parameter
names must be of the form <code class="docutils literal"><span class="pre">'MSK_DPAR_BASIS_TOL_X'</span></code> as in the C API.
Alternatively, Python enum options like <code class="docutils literal"><span class="pre">'mosek.dparam.basis_tol_x'</span></code> are
also supported.</dd>
</dl>
<p><a class="reference external" href="http://cvxopt.org/">CVXOPT</a> options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">'max_iters'</span></code></dt>
<dd>maximum number of iterations (default: 100).</dd>
<dt><code class="docutils literal"><span class="pre">'abstol'</span></code></dt>
<dd>absolute accuracy (default: 1e-7).</dd>
<dt><code class="docutils literal"><span class="pre">'reltol'</span></code></dt>
<dd>relative accuracy (default: 1e-6).</dd>
<dt><code class="docutils literal"><span class="pre">'feastol'</span></code></dt>
<dd>tolerance for feasibility conditions (default: 1e-7).</dd>
<dt><code class="docutils literal"><span class="pre">'refinement'</span></code></dt>
<dd>number of iterative refinement steps after solving KKT system (default: 1).</dd>
<dt><code class="docutils literal"><span class="pre">'kktsolver'</span></code></dt>
<dd>The KKT solver used. The default, “chol”, does a Cholesky factorization with preprocessing to make A and [A; G] full rank.
The “robust” solver does an LDL factorization without preprocessing.
It is slower, but more robust.</dd>
</dl>
<p><a class="reference external" href="http://github.com/cvxgrp/scs">SCS</a> options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">'max_iters'</span></code></dt>
<dd>maximum number of iterations (default: 2500).</dd>
<dt><code class="docutils literal"><span class="pre">'eps'</span></code></dt>
<dd>convergence tolerance (default: 1e-3).</dd>
<dt><code class="docutils literal"><span class="pre">'alpha'</span></code></dt>
<dd>relaxation parameter (default: 1.8).</dd>
<dt><code class="docutils literal"><span class="pre">'scale'</span></code></dt>
<dd>balance between minimizing primal and dual residual (default: 5.0).</dd>
<dt><code class="docutils literal"><span class="pre">'normalize'</span></code></dt>
<dd>whether to precondition data matrices (default: True).</dd>
<dt><code class="docutils literal"><span class="pre">'use_indirect'</span></code></dt>
<dd>whether to use indirect solver for KKT sytem (instead of direct) (default: True).</dd>
</dl>
<p><a class="reference external" href="https://projects.coin-or.org/Cbc">CBC</a> options:</p>
<p>Cut-generation through <a class="reference external" href="https://projects.coin-or.org/Cgl">CGL</a></p>
<dl class="docutils">
<dt>General remarks:</dt>
<dd><ul class="first last simple">
<li>some of these cut-generators seem to be buggy (observed problems with AllDifferentCuts, RedSplitCuts, LandPCuts, PreProcessCuts)</li>
<li>a few of these cut-generators will generate noisy output even if <code class="docutils literal"><span class="pre">'verbose=False'</span></code></li>
</ul>
</dd>
<dt>The following cut-generators are available:</dt>
<dd><code class="docutils literal"><span class="pre">GomoryCuts</span></code>, <code class="docutils literal"><span class="pre">MIRCuts</span></code>, <code class="docutils literal"><span class="pre">MIRCuts2</span></code>, <code class="docutils literal"><span class="pre">TwoMIRCuts</span></code>, <code class="docutils literal"><span class="pre">ResidualCapacityCuts</span></code>, <code class="docutils literal"><span class="pre">KnapsackCuts</span></code> <code class="docutils literal"><span class="pre">FlowCoverCuts</span></code>, <code class="docutils literal"><span class="pre">CliqueCuts</span></code>, <code class="docutils literal"><span class="pre">LiftProjectCuts</span></code>, <code class="docutils literal"><span class="pre">AllDifferentCuts</span></code>, <code class="docutils literal"><span class="pre">OddHoleCuts</span></code>, <code class="docutils literal"><span class="pre">RedSplitCuts</span></code>, <code class="docutils literal"><span class="pre">LandPCuts</span></code>, <code class="docutils literal"><span class="pre">PreProcessCuts</span></code>, <code class="docutils literal"><span class="pre">ProbingCuts</span></code>, <code class="docutils literal"><span class="pre">SimpleRoundingCuts</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">'CutGenName'</span></code></dt>
<dd>if cut-generator is activated (e.g. <code class="docutils literal"><span class="pre">'GomoryCuts=True'</span></code>)</dd>
</dl>
</div>
</div>
<div class="section" id="getting-the-standard-form">
<h2>Getting the standard form<a class="headerlink" href="#getting-the-standard-form" title="Permalink to this headline">¶</a></h2>
<p>If you are interested in getting the standard form that CVXPY produces for a problem, you can use the <code class="docutils literal"><span class="pre">get_problem_data</span></code> method. Calling <code class="docutils literal"><span class="pre">get_problem_data(solver)</span></code> on a problem object returns a dict of the arguments that CVXPY would pass to that solver. If the solver you choose cannot solve the problem, CVXPY will raise an exception.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get ECOS arguments.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">get_problem_data</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS</span><span class="p">)</span>

<span class="c1"># Get ECOS_BB arguments.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">get_problem_data</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS_BB</span><span class="p">)</span>

<span class="c1"># Get CVXOPT arguments.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">get_problem_data</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">CVXOPT</span><span class="p">)</span>

<span class="c1"># Get SCS arguments.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">get_problem_data</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">SCS</span><span class="p">)</span>
</pre></div>
</div>
<p>After you solve the standard conic form problem returned by <code class="docutils literal"><span class="pre">get_problem_data</span></code>, you can unpack the raw solver output using the <code class="docutils literal"><span class="pre">unpack_results</span></code> method. Calling <code class="docutils literal"><span class="pre">unpack_results(solver,</span> <span class="pre">solver_output)</span></code> on a problem will update the values of all primal and dual variables as well as the problem value and status.</p>
<p>For example, the following code is equivalent to solving the problem directly with CVXPY:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get ECOS arguments.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">get_problem_data</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS</span><span class="p">)</span>
<span class="c1"># Call ECOS solver.</span>
<span class="n">solver_output</span> <span class="o">=</span> <span class="n">ecos</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;G&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;h&quot;</span><span class="p">],</span>
                           <span class="n">data</span><span class="p">[</span><span class="s2">&quot;dims&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">])</span>
<span class="c1"># Unpack raw solver output.</span>
<span class="n">prob</span><span class="o">.</span><span class="n">unpack_results</span><span class="p">(</span><span class="n">cvx</span><span class="o">.</span><span class="n">ECOS</span><span class="p">,</span> <span class="n">solver_output</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="reductions">
<h2>Reductions<a class="headerlink" href="#reductions" title="Permalink to this headline">¶</a></h2>
<p>CVXPY uses a system of <strong>reductions</strong> to rewrite problems from
the form provided by the user into the standard form that a solver will accept.
A reduction is a transformation from one problem to an equivalent problem.
Two problems are equivalent if a solution of one can be converted efficiently
to a solution of the other.
Reductions take a CVXPY Problem as input and output a CVXPY Problem.
The full set of reductions available is discussed in <a class="reference internal" href="../../api_reference/cvxpy.reductions.html#reductions-api"><span class="std std-ref">Reductions</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">CVXPY</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=cvxgrp&repo=cvxpy&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/cvxgrp/cvxpy">
    <img
        alt="https://secure.travis-ci.org/cvxgrp/cvxpy.svg?branch=master"
        src="https://secure.travis-ci.org/cvxgrp/cvxpy.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Install Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html">What is CVXPY?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dcp/index.html">Disciplined Convex Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/index.html">Atomic Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Advanced Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dual-variables">Dual variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#semidefinite-matrices">Semidefinite matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mixed-integer-programs">Mixed-integer programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#complex-valued-expressions">Complex valued expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transforms">Transforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problem-arithmetic">Problem arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solve-method-options">Solve method options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solver-stats">Solver stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#warm-start">Warm start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-standard-form">Getting the standard form</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reductions">Reductions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/cvxpy.html">API Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../citing/index.html">Citing CVXPY</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../updates/index.html">What’s New in CVXPY 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../related_projects/index.html">Related Projects</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Steven Diamond, Eric Chu, Akshay Agrawal, Stephen Boyd.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/tutorial/advanced/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/cvxgrp/cvxpy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-50248335-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>